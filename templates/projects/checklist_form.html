{% extends 'base.html' %}
{% load static %}

{% block title %}–ß–µ–∫-–ª–∏—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ - {{ block.super }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Breadcrumb -->
        <nav class="flex mb-8" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-4">
                <li>
                    <div>
                        <a href="{% url 'projects:construction_control_dashboard' %}" class="text-gray-400 hover:text-gray-500">
                            <i class="fas fa-home"></i>
                            <span class="sr-only">–ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã</span>
                        </a>
                    </div>
                </li>
                <li>
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-gray-400 mr-4"></i>
                        <span class="text-sm font-medium text-gray-500">–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞</span>
                    </div>
                </li>
                <li>
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-gray-400 mr-4"></i>
                        <span class="text-sm font-medium text-gray-900">–ß–µ–∫-–ª–∏—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç</span>
                    </div>
                </li>
            </ol>
        </nav>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="mb-8">
            <div class="bg-white shadow-sm rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-clipboard-check text-white text-xl"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">–ß–µ–∫-–ª–∏—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç</h1>
                            <p class="text-gray-600">{{ activation.project.name }}</p>
                            <p class="text-xs text-gray-500 mt-1">–°–æ–≥–ª–∞—Å–Ω–æ –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-500">–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                        <div class="text-2xl font-bold text-blue-600" id="completion-percentage">{{ checklist.completion_percentage }}%</div>
                        <div class="w-20 bg-gray-200 rounded-full h-2 mt-1">
                            <div class="bg-blue-600 h-2 rounded-full transition-all duration-300" 
                                 id="progress-bar" 
                                 style="width: {{ checklist.completion_percentage }}%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ -->
        {% if is_refill_after_rejection %}
        <div class="bg-orange-50 border-l-4 border-orange-400 p-6 mb-8">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-triangle text-orange-400 text-xl"></i>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-orange-800">
                        –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–∞
                    </h3>
                    <div class="mt-2 text-sm text-orange-700">
                        <p>–ü—Ä–æ–µ–∫—Ç –±—ã–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–æ–º. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—á—Ç–∏—Ç–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏ –≤–Ω–µ—Å–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —á–µ–∫-–ª–∏—Å—Ç.</p>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ -->
        <div class="bg-white shadow-sm rounded-lg p-6 mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                <div>
                    <span class="font-medium text-gray-500">–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –ø—Ä–æ—Ä–∞–±:</span>
                    <div class="text-gray-900">{{ activation.assigned_foreman.get_full_name }}</div>
                </div>
                <div>
                    <span class="font-medium text-gray-500">–ö–æ–Ω—Ç—Ä–∞–∫—Ç:</span>
                    <div class="text-gray-900">{{ activation.project.contract_number }}</div>
                </div>
                <div>
                    <span class="font-medium text-gray-500">–ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞:</span>
                    <div class="text-gray-900">{{ activation.project.planned_start_date|date:"d.m.Y" }}</div>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ —á–µ–∫-–ª–∏—Å—Ç–∞ -->
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- –°–µ–∫—Ü–∏–∏ —á–µ–∫-–ª–∏—Å—Ç–∞ -->
            <div class="bg-white shadow-sm rounded-lg p-6">
                <h2 class="text-lg font-semibold text-gray-900 mb-6">–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –æ—Ç–∫—Ä—ã—Ç–∏—é —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç</h2>
                
                <div class="space-y-8">
                    <!-- 1. –ù–∞–ª–∏—á–∏–µ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π, —Ä–∞–±–æ—á–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 5.3. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìã –ù–∞–ª–∏—á–∏–µ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π, —Ä–∞–±–æ—á–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="regulatory_documentation" value="yes" 
                                       {% if checklist.regulatory_documentation == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="regulatory_documentation" value="no" 
                                       {% if checklist.regulatory_documentation == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="regulatory_documentation" value="not_required" 
                                       {% if checklist.regulatory_documentation == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="regulatory_documentation_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.regulatory_documentation_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 2. –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 5.3. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìÑ –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ (–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–±–æ—Ç)
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_manager_order" value="yes" 
                                       {% if checklist.construction_manager_order == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_manager_order" value="no" 
                                       {% if checklist.construction_manager_order == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_manager_order" value="not_required" 
                                       {% if checklist.construction_manager_order == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="construction_manager_order_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–∏–∫–∞–∑—É –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.construction_manager_order_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 3. –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 5.3. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üèóÔ∏è –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å<br>
                            <span class="text-sm font-normal text-gray-600">(—Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –≤ –ù–†–° –≤ –æ–±–ª–∞—Å—Ç–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</span>
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_control_order" value="yes" 
                                       {% if checklist.construction_control_order == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_control_order" value="no" 
                                       {% if checklist.construction_control_order == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="construction_control_order" value="not_required" 
                                       {% if checklist.construction_control_order == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="construction_control_order_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–∏–∫–∞–∑—É –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.construction_control_order_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 4. –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 5.3. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìê –ù–∞–ª–∏—á–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_supervision_order" value="yes" 
                                       {% if checklist.project_supervision_order == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_supervision_order" value="no" 
                                       {% if checklist.project_supervision_order == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_supervision_order" value="not_required" 
                                       {% if checklist.project_supervision_order == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="project_supervision_order_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–∏–∫–∞–∑—É –Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.project_supervision_order_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 5. –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ —à—Ç–∞–º–ø–æ–º ¬´–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–±–æ—Ç¬ª -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 5.5. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìã –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ —à—Ç–∞–º–ø–æ–º ¬´–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–±–æ—Ç¬ª
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_documentation_stamp" value="yes" 
                                       {% if checklist.project_documentation_stamp == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_documentation_stamp" value="no" 
                                       {% if checklist.project_documentation_stamp == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="project_documentation_stamp" value="not_required" 
                                       {% if checklist.project_documentation_stamp == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="project_documentation_stamp_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.project_documentation_stamp_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 6. –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 6.4., –ø. 6.7., –ø. 6.9. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìä –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç<br>
                            <span class="text-sm font-normal text-gray-600">(—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ó–∞–∫–∞–∑—á–∏–∫–æ–º, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–æ–º, —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä—É—é—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π)</span>
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="work_production_project" value="yes" 
                                       {% if checklist.work_production_project == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="work_production_project" value="no" 
                                       {% if checklist.work_production_project == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="work_production_project" value="not_required" 
                                       {% if checklist.work_production_project == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="work_production_project_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.work_production_project_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 7. –ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–∏ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.2. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üèóÔ∏è –ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–∏
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="engineering_site_preparation" value="yes" 
                                       {% if checklist.engineering_site_preparation == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="engineering_site_preparation" value="no" 
                                       {% if checklist.engineering_site_preparation == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="engineering_site_preparation" value="not_required" 
                                       {% if checklist.engineering_site_preparation == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="engineering_site_preparation_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –ø–ª–æ—â–∞–¥–∫–∏..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.engineering_site_preparation_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 8. –ù–∞–ª–∏—á–∏–µ –∞–∫—Ç–∞ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–±–∏–≤–æ—á–Ω–æ–π –æ—Å–Ω–æ–≤—ã -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.2. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìê –ù–∞–ª–∏—á–∏–µ –∞–∫—Ç–∞ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–±–∏–≤–æ—á–Ω–æ–π –æ—Å–Ω–æ–≤—ã, –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–Ω–∞–∫–æ–≤ (—Ä–µ–ø–µ—Ä–æ–≤)
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="geodetic_breakdown_act" value="yes" 
                                       {% if checklist.geodetic_breakdown_act == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="geodetic_breakdown_act" value="no" 
                                       {% if checklist.geodetic_breakdown_act == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="geodetic_breakdown_act" value="not_required" 
                                       {% if checklist.geodetic_breakdown_act == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="geodetic_breakdown_act_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–±–∏–≤–æ—á–Ω–æ–π –æ—Å–Ω–æ–≤–µ..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.geodetic_breakdown_act_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 9. –ù–∞–ª–∏—á–∏–µ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.6. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üó∫Ô∏è –ù–∞–ª–∏—á–∏–µ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (—Å–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞)
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="general_plan" value="yes" 
                                       {% if checklist.general_plan == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="general_plan" value="no" 
                                       {% if checklist.general_plan == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="general_plan" value="not_required" 
                                       {% if checklist.general_plan == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="general_plan_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–º—É –ø–ª–∞–Ω—É..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.general_plan_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 10. –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.10., –ø. 7.34. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üè¢ –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –∏ –±—ã—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–ª–æ—â–∞–¥–∫–∏<br>
                            <span class="text-sm font-normal text-gray-600">(–≤–∫–ª—é—á–∞—è —Å—Ç–æ—è–Ω–∫—É –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞) —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–µ–∫—Ç—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —ç–ª–µ–∫—Ç—Ä–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞—Ä–Ω—ã—Ö, —Å–∞–Ω–∏—Ç–∞—Ä–Ω–æ-—ç–ø–∏–¥–µ–º–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –Ω–æ—Ä–º –∏ –ø—Ä–∞–≤–∏–ª</span>
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="temporary_infrastructure" value="yes" 
                                       {% if checklist.temporary_infrastructure == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="temporary_infrastructure" value="no" 
                                       {% if checklist.temporary_infrastructure == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="temporary_infrastructure" value="not_required" 
                                       {% if checklist.temporary_infrastructure == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="temporary_infrastructure_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.temporary_infrastructure_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 11. –ü—É–Ω–∫—Ç—ã –æ—á–∏—Å—Ç–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.13. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üöö –ù–∞–ª–∏—á–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –æ—á–∏—Å—Ç–∫–∏ –∏–ª–∏ –º–æ–π–∫–∏ –∫–æ–ª–µ—Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –≤—ã–µ–∑–¥–∞—Ö —Å–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–∏
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="vehicle_cleaning_points" value="yes" 
                                       {% if checklist.vehicle_cleaning_points == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="vehicle_cleaning_points" value="no" 
                                       {% if checklist.vehicle_cleaning_points == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="vehicle_cleaning_points" value="not_required" 
                                       {% if checklist.vehicle_cleaning_points == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="vehicle_cleaning_points_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—É–Ω–∫—Ç–∞–º –æ—á–∏—Å—Ç–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.vehicle_cleaning_points_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 12. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –º—É—Å–æ—Ä–∞ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.13. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üóëÔ∏è –ù–∞–ª–∏—á–∏–µ –±—É–Ω–∫–µ—Ä–æ–≤ –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –±—ã—Ç–æ–≤–æ–≥–æ –∏ –æ—Ç–¥–µ–ª—å–Ω–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="waste_containers" value="yes" 
                                       {% if checklist.waste_containers == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="waste_containers" value="no" 
                                       {% if checklist.waste_containers == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="waste_containers" value="not_required" 
                                       {% if checklist.waste_containers == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="waste_containers_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –¥–ª—è –º—É—Å–æ—Ä–∞..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.waste_containers_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 13. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —â–∏—Ç—ã -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.13. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üìã –ù–∞–ª–∏—á–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —â–∏—Ç–æ–≤ (–∑–Ω–∞–∫–æ–≤) —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:<br>
                            <span class="text-sm font-normal text-gray-600">- –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞; - –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ó–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ó–∞–∫–∞–∑—á–∏–∫–∞); - –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏; - –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏; - —Å—Ä–æ–∫–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞; - –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ –ø—Ä–∏–∫–∞–∑—É –ª–∏—Ü –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</span>
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="information_boards" value="yes" 
                                       {% if checklist.information_boards == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="information_boards" value="no" 
                                       {% if checklist.information_boards == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="information_boards" value="not_required" 
                                       {% if checklist.information_boards == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="information_boards_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º —â–∏—Ç–∞–º..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.information_boards_notes }}</textarea>
                        </div>
                    </div>

                    <!-- 14. –°—Ç–µ–Ω–¥—ã –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
                    <div class="checklist-item border border-gray-200 rounded-lg p-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                            <p class="text-sm text-blue-700 font-medium">(–ø. 7.13. –°–ü 48.13330.2019. –ò–∑–º. ‚Ññ1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)</p>
                        </div>
                        
                        <h3 class="text-base font-semibold text-gray-900 mb-4">
                            üö® –ù–∞–ª–∏—á–∏–µ —Å—Ç–µ–Ω–¥–æ–≤ –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞ —Å—Ö–µ–º–µ –º–µ—Å—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤–æ–¥—ã, —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏—è
                        </h3>
                        
                        <div class="flex space-x-6 mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="fire_safety_stands" value="yes" 
                                       {% if checklist.fire_safety_stands == 'yes' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-2 text-green-700 font-medium">–î–ê</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="fire_safety_stands" value="no" 
                                       {% if checklist.fire_safety_stands == 'no' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-red-600 border-gray-300 focus:ring-red-500">
                                <span class="ml-2 text-red-700 font-medium">–ù–ï–¢</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="fire_safety_stands" value="not_required" 
                                       {% if checklist.fire_safety_stands == 'not_required' %}checked{% endif %}
                                       class="form-radio h-4 w-4 text-gray-600 border-gray-300 focus:ring-gray-500">
                                <span class="ml-2 text-gray-700 font-medium">–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span>
                            </label>
                        </div>
                        
                        <div class="mt-4">
                            <textarea name="fire_safety_stands_notes" 
                                      placeholder="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Å—Ç–µ–Ω–¥–∞–º –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏..."
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                                      rows="2">{{ checklist.fire_safety_stands_notes }}</textarea>
                        </div>
                    </div>
                </div>

                <!-- –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ -->
                <div class="border-t pt-8 mt-8">
                    <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                        <div class="flex items-start">
                            <div class="flex items-center h-5">
                                <input type="checkbox" 
                                       name="overall_readiness"
                                       id="overall_readiness"
                                       class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"
                                       {% if checklist.overall_readiness %}checked{% endif %}>
                            </div>
                            <div class="ml-3 flex-1">
                                <label for="overall_readiness" class="text-base font-semibold text-green-800 cursor-pointer">
                                    ‚úÖ –û–±—ä–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –æ—Ç–∫—Ä—ã—Ç–∏—é —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
                                </label>
                                <p class="text-sm text-green-700 mt-1">
                                    –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω—ã –∏ –æ–±—ä–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –°–ü 48.13330.2019 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
                                </p>
                                <div class="mt-3">
                                    <textarea name="additional_notes" 
                                              placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è..."
                                              class="w-full px-3 py-2 border border-green-300 rounded-md focus:ring-green-500 focus:border-green-500 text-sm"
                                              rows="3">{{ checklist.additional_notes }}</textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="bg-white shadow-sm rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <a href="{% url 'projects:construction_control_dashboard' %}" 
                       class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                        <i class="fas fa-arrow-left mr-2"></i>
                        –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ–µ–∫—Ç–∞–º
                    </a>
                    
                    <div class="flex space-x-3">
                        <button type="submit" 
                                name="save"
                                class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                            <i class="fas fa-save mr-2"></i>
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫
                        </button>
                        
                        <button type="submit" 
                                name="submit_for_review"
                                id="submit-for-review-btn"
                                class="inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
                                disabled>
                            <i class="fas fa-paper-plane mr-2"></i>
                            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä—É
                        </button>
                    </div>
                </div>
            </div>
        </form>

        <!-- –ü–æ–º–æ—â—å -->
        <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-lightbulb text-blue-400"></i>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-blue-800">
                        –ö–∞–∫ –∑–∞–ø–æ–ª–Ω—è—Ç—å —á–µ–∫-–ª–∏—Å—Ç?
                    </h3>
                    <div class="mt-2 text-sm text-blue-700">
                        <ul class="list-disc list-inside space-y-1">
                            <li>–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞: –î–ê, –ù–ï–¢ –∏–ª–∏ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</li>
                            <li>–í –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–µ—Ç–∞–ª–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
                            <li>–í—Å–µ –ø—É–Ω–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</li>
                            <li>–ò—Ç–æ–≥–æ–≤–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –æ—Ç–º–µ—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤</li>
                            <li>–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ–∫-–ª–∏—Å—Ç –ø–æ—Å—Ç—É–ø–∏—Ç –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä—É –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const radioButtons = document.querySelectorAll('input[type="radio"]');
    const overallReadinessCheckbox = document.getElementById('overall_readiness');
    const submitButton = document.getElementById('submit-for-review-btn');
    const completionPercentage = document.getElementById('completion-percentage');
    const progressBar = document.getElementById('progress-bar');
    
    // –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª–µ–π —á–µ–∫-–ª–∏—Å—Ç–∞
    const checklistFields = [
        'regulatory_documentation',
        'construction_manager_order', 
        'construction_control_order',
        'project_supervision_order',
        'project_documentation_stamp',
        'work_production_project',
        'engineering_site_preparation',
        'geodetic_breakdown_act',
        'general_plan',
        'temporary_infrastructure',
        'vehicle_cleaning_points',
        'waste_containers',
        'information_boards',
        'fire_safety_stands'
    ];
    
    function updateProgress() {
        let answeredCount = 0;
        const totalFields = checklistFields.length;
        
        checklistFields.forEach(fieldName => {
            const radios = document.querySelectorAll(`input[name="${fieldName}"]`);
            const isAnswered = Array.from(radios).some(radio => radio.checked);
            if (isAnswered) {
                answeredCount++;
            }
        });
        
        const percentage = Math.round((answeredCount / totalFields) * 100);
        
        completionPercentage.textContent = percentage + '%';
        progressBar.style.width = percentage + '%';
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        if (percentage === 100) {
            progressBar.className = 'bg-green-500 h-2 rounded-full transition-all duration-300';
        } else if (percentage >= 70) {
            progressBar.className = 'bg-yellow-500 h-2 rounded-full transition-all duration-300';
        } else {
            progressBar.className = 'bg-red-500 h-2 rounded-full transition-all duration-300';
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
        const allFieldsAnswered = (answeredCount === totalFields);
        const overallChecked = overallReadinessCheckbox.checked;
        
        if (allFieldsAnswered && overallChecked) {
            submitButton.disabled = false;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
        } else {
            submitButton.disabled = true;
            submitButton.classList.add('opacity-50', 'cursor-not-allowed');
        }
    }
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫
    radioButtons.forEach(radio => {
        radio.addEventListener('change', function() {
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
            const checklistItem = this.closest('.checklist-item');
            const allRadiosInGroup = checklistItem.querySelectorAll('input[type="radio"]');
            
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
            checklistItem.classList.remove('border-green-500', 'border-red-500', 'border-gray-400', 'bg-green-50', 'bg-red-50', 'bg-gray-50');
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã
            if (this.value === 'yes') {
                checklistItem.classList.add('border-green-500', 'bg-green-50');
            } else if (this.value === 'no') {
                checklistItem.classList.add('border-red-500', 'bg-red-50');
            } else if (this.value === 'not_required') {
                checklistItem.classList.add('border-gray-400', 'bg-gray-50');
            }
            
            updateProgress();
        });
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        if (radio.checked) {
            const checklistItem = radio.closest('.checklist-item');
            if (radio.value === 'yes') {
                checklistItem.classList.add('border-green-500', 'bg-green-50');
            } else if (radio.value === 'no') {
                checklistItem.classList.add('border-red-500', 'bg-red-50');
            } else if (radio.value === 'not_required') {
                checklistItem.classList.add('border-gray-400', 'bg-gray-50');
            }
        }
    });
    
    overallReadinessCheckbox.addEventListener('change', updateProgress);
    
    // –ò–Ω–∏—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    updateProgress();
});
</script>
{% endblock %}